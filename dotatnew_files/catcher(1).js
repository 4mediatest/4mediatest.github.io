var ScrollBars=ScrollBars||new Class({version:"0.5.2",Implements:[Options],element:null,timer:null,fadeTimer:null,nativeScrollBarSize:0,options:{scrollBarSize:7,scrollStep:20,addBar:true,barOverContent:false,fade:false},initialize:function(c,a){this.element=document.id(c);if(!Browser.ie&&!$("webkit_hide_scrollbars")){document.id(document.body).adopt(new Element("style",{id:"webkit_hide_scrollbars",text:".scrollbar-content::-webkit-scrollbar{visibility:hidden;} .scrollbar-content .scrollbar-content-wrapper:after{clear: both;}"}))}var b=new Element("div",{styles:{height:"150px",overflow:"scroll"}}).adopt(new Element("div",{styles:{height:"160px"}}));document.id(document.body).adopt(b);this.nativeScrollBarSize=b.getSize().x-b.getScrollSize().x;b.destroy();this.setOptions(a);this.injectHTML();if(this.options.fade){this._addFade(this.options.fade)}this.updateScrollBars();window.addEvent("load",this.updateScrollBars.bind(this));window.addEvent("resize",this.updateScrollBars.bind(this))},injectHTML:function(){if(this.element.getElement("ul.scrollbar")){this.element.getElements("ul.scrollbar").destroy()}this.element.setStyles({overflow:"hidden",position:"relative"});var a=new Element("div",{"class":"scrollbar-content",styles:{"padding-right":this.nativeScrollBarSize,"padding-bottom":this.nativeScrollBarSize,overflow:"hidden",height:"100%",width:"100%"}}).adopt(new Element("div",{"class":"scrollbar-content-wrapper",styles:{"float":"left","margin-right":-this.nativeScrollBarSize,"margin-bottom":-this.nativeScrollBarSize}}).adopt(this.element.childNodes));this.element.adopt(a);this.element.grab(new Element("ul",{"class":"scrollbar vertical",styles:{position:"absolute",right:0,width:this.options.scrollBarSize}}).adopt([new Element("li",{"class":"scroll bar-wrapper",styles:{position:"absolute",top:0,bottom:0,"min-width":this.options.scrollBarSize}}),new Element("li",{"class":"scroll up",text:"up",styles:{position:"absolute",top:0,"min-height":this.options.scrollBarSize,"min-width":this.options.scrollBarSize}}).addEvents({mousedown:function(){this.element.getElement(".scrollbar-content").scrollTo(this.element.getElement(".scrollbar-content").getScroll().x,this.element.getElement(".scrollbar-content").getScroll().y-this.options.scrollStep);this.timer=this.element.getElement("ul.scrollbar.vertical li.scroll.up").fireEvent.delay(100,this.element.getElement("ul.scrollbar.vertical li.scroll.up"),"mousedown")}.bind(this),mouseup:function(){clearTimeout(this.timer)}.bind(this),mouseleave:function(){clearTimeout(this.timer)}.bind(this)}),new Element("li",{"class":"scroll down",text:"down",styles:{position:"absolute",bottom:0,"min-height":this.options.scrollBarSize,"min-width":this.options.scrollBarSize}}).addEvents({mousedown:function(){this.element.getElement(".scrollbar-content").scrollTo(this.element.getElement(".scrollbar-content").getScroll().x,this.element.getElement(".scrollbar-content").getScroll().y+this.options.scrollStep);this.timer=this.element.getElement("ul.scrollbar.vertical li.scroll.down").fireEvent.delay(100,this.element.getElement("ul.scrollbar.vertical li.scroll.down"),"mousedown")}.bind(this),mouseup:function(){clearTimeout(this.timer)}.bind(this),mouseleave:function(){clearTimeout(this.timer)}.bind(this)})]),"top");this.element.grab(new Element("ul",{"class":"scrollbar horizontal",styles:{position:"absolute",bottom:0,height:this.options.scrollBarSize,height:this.options.scrollBarSize,}}).adopt([new Element("li",{"class":"scroll bar-wrapper",styles:{position:"absolute",left:0,right:0,"min-height":this.options.scrollBarSize}}),new Element("li",{"class":"scroll left",text:"left",styles:{position:"absolute",left:0,"min-height":this.options.scrollBarSize,"min-width":this.options.scrollBarSize}}).addEvents({mousedown:function(){this.element.getElement(".scrollbar-content").scrollTo(this.element.getElement(".scrollbar-content").getScroll().x-this.options.scrollStep,this.element.getElement(".scrollbar-content").getScroll().y);this.timer=this.element.getElement("ul.scrollbar.horizontal li.scroll.left").fireEvent.delay(100,this.element.getElement("ul.scrollbar.horizontal li.scroll.left"),"mousedown")}.bind(this),mouseup:function(){clearTimeout(this.timer)}.bind(this),mouseleave:function(){clearTimeout(this.timer)}.bind(this)}),new Element("li",{"class":"scroll right",text:"right",styles:{position:"absolute",right:0,"min-height":this.options.scrollBarSize,"min-width":this.options.scrollBarSize}}).addEvents({mousedown:function(){this.element.getElement(".scrollbar-content").scrollTo(this.element.getElement(".scrollbar-content").getScroll().x+this.options.scrollStep,this.element.getElement(".scrollbar-content").getScroll().y);this.timer=this.element.getElement("ul.scrollbar.horizontal li.scroll.right").fireEvent.delay(100,this.element.getElement("ul.scrollbar.horizontal li.scroll.right"),"mousedown")}.bind(this),mouseup:function(){clearTimeout(this.timer)}.bind(this),mouseleave:function(){clearTimeout(this.timer)}.bind(this)})]),"top");if(this.options.addBar){this.injectBarHtml()}},injectBarHtml:function(){var c=this.element.getElement("ul.scrollbar.vertical li.scroll.bar-wrapper");var a=this.element.getElement("ul.scrollbar.horizontal li.scroll.bar-wrapper");c.adopt(new Element("div",{"class":"scroll bar",styles:{position:"absolute",width:"100%"}}));a.adopt(new Element("div",{"class":"scroll bar",styles:{position:"absolute",height:"100%"}}));var d=null;var b=null;c.addEvents({mousedown:function(e){this.element.getElement(".scrollbar-content").scrollTo(this.element.getElement(".scrollbar-content").getScroll().x,this.element.getElement(".scrollbar-content").getScrollSize().y*((e.page.y-(c.getElement(".scroll.bar").getSize().y/2)-c.getPosition().y)/c.getSize().y));document.id(document.body).addEvent("mousemove",d=function(f){f.stop();this.element.getElement(".scrollbar-content").scrollTo(this.element.getElement(".scrollbar-content").getScroll().x,this.element.getElement(".scrollbar-content").getScrollSize().y*((f.page.y-(c.getElement(".scroll.bar").getSize().y/2)-c.getPosition().y)/c.getSize().y));document.id(document.body).focus()}.bind(this));return false}.bind(this)});a.addEvents({mousedown:function(e){this.element.getElement(".scrollbar-content").scrollTo(this.element.getElement(".scrollbar-content").getScrollSize().x*((e.page.x-(a.getElement(".scroll.bar").getSize().x/2)-a.getPosition().x)/a.getSize().x),this.element.getElement(".scrollbar-content").getScroll().y);document.id(document.body).addEvent("mousemove",b=function(f){f.stop();this.element.getElement(".scrollbar-content").scrollTo(this.element.getElement(".scrollbar-content").getScrollSize().x*((f.page.x-(a.getElement(".scroll.bar").getSize().x/2)-a.getPosition().x)/a.getSize().x),this.element.getElement(".scrollbar-content").getScroll().y);document.id(document.body).focus()}.bind(this));return false}.bind(this)});document.id(document.body).addEvent("mouseup",function(){document.id(document.body).removeEvent("mousemove",d);document.id(document.body).removeEvent("mousemove",b)});this.element.getElement(".scrollbar-content").addEvent("scroll",function(){var h=Math.floor((this.element.getElement(".scrollbar-content").getScroll().y/this.element.getElement(".scrollbar-content").getScrollSize().y)*100),g=Math.floor((this.element.getElement(".scrollbar-content").getScroll().x/this.element.getElement(".scrollbar-content").getScrollSize().x)*100),f=this.element.getElement("ul.scrollbar.vertical li.scroll.bar-wrapper .scroll.bar"),e=this.element.getElement("ul.scrollbar.horizontal li.scroll.bar-wrapper .scroll.bar");if(!Browser.ie&&f.getStyle("height").toInt()+h>=100){f.setStyle("bottom","0");f.setStyle("top","auto")}else{f.setStyle("top",h+"%");f.setStyle("bottom","auto")}if(!Browser.ie&&e.getStyle("width").toInt()+g>=100){e.setStyle("right","0");e.setStyle("left","auto")}else{e.setStyle("left",g+"%");e.setStyle("right","auto")}}.bind(this)).fireEvent("scroll")},updateScrollBars:function(){var c=this.element.getElement(".scrollbar-content");this.element.getElement("ul.scrollbar.vertical").setStyle("height",this.element.getSize().y-this.element.getElement("ul.scrollbar.horizontal").getSize().y);this.element.getElement("ul.scrollbar.horizontal").setStyle("width",this.element.getSize().x-this.element.getElement("ul.scrollbar.vertical").getSize().x);if(this.options.addBar){var b=this.element.getElement("ul.scrollbar.vertical li.scroll.bar-wrapper").setStyles({top:0,bottom:0});var a=this.element.getElement("ul.scrollbar.horizontal li.scroll.bar-wrapper").setStyles({left:0,right:0});if(this.element.getElement("li.scroll.up").getPosition(this.element).y<c.getSize().y/2){b.setStyle("top",b.getStyle("top").toInt()+this.element.getElement("li.scroll.up").getSize().y)}if(this.element.getElement("li.scroll.down").getPosition(this.element).y<c.getSize().y/2){b.setStyle("top",b.getStyle("top").toInt()+this.element.getElement("li.scroll.down").getSize().y)}if(this.element.getElement("li.scroll.up").getPosition(this.element).y>c.getSize().y/2){b.setStyle("bottom",b.getStyle("bottom").toInt()+this.element.getElement("li.scroll.up").getSize().y)}if(this.element.getElement("li.scroll.down").getPosition(this.element).y>c.getSize().y/2){b.setStyle("bottom",b.getStyle("bottom").toInt()+this.element.getElement("li.scroll.down").getSize().y)}if(this.element.getElement("li.scroll.left").getPosition(this.element).x<c.getSize().x/2){a.setStyle("left",a.getStyle("left").toInt()+this.element.getElement("li.scroll.left").getSize().x)}if(this.element.getElement("li.scroll.right").getPosition(this.element).x<c.getSize().x/2){a.setStyle("left",a.getStyle("left").toInt()+this.element.getElement("li.scroll.right").getSize().x)}if(this.element.getElement("li.scroll.left").getPosition(this.element).x>c.getSize().x/2){a.setStyle("right",a.getStyle("right").toInt()+this.element.getElement("li.scroll.left").getSize().x)}if(this.element.getElement("li.scroll.right").getPosition(this.element).x>c.getSize().x/2){a.setStyle("right",a.getStyle("right").toInt()+this.element.getElement("li.scroll.right").getSize().x)}b.getElement(".scroll.bar").setStyle("height",Math.min(100,Math.ceil(((c.getSize().y-(Browser.ie?this.nativeScrollBarSize:0))/c.getScrollSize().y)*100))+"%");a.getElement(".scroll.bar").setStyle("width",Math.min(100,Math.ceil(((c.getSize().x-(Browser.ie?this.nativeScrollBarSize:0))/c.getScrollSize().x)*100))+"%");c.fireEvent("scroll")}if(!this.element.getElement("ul.scrollbar.vertical").hasClass("inactive")&&c.getScrollSize().y<=c.getSize().y){this.element.getElement("ul.scrollbar.vertical").addClass("inactive")}else{if(c.getScrollSize().y>c.getSize().y){this.element.getElement("ul.scrollbar.vertical").removeClass("inactive")}}if(!this.element.getElement("ul.scrollbar.horizontal").hasClass("inactive")&&c.getScrollSize().x<=c.getSize().x){this.element.getElement("ul.scrollbar.horizontal").addClass("inactive")}else{if(c.getScrollSize().x>c.getSize().x){this.element.getElement("ul.scrollbar.horizontal").removeClass("inactive")}}if(this.options.barOverContent||(this.element.getElement("ul.scrollbar.vertical").getStyle("display")=="none"&&this.element.getElement("ul.scrollbar.horizontal").getStyle("display")=="none")){c.getElement(".scrollbar-content-wrapper").setStyles({"padding-right":0,"padding-bottom":0})}else{if(this.element.getElement("ul.scrollbar.vertical").getStyle("display")=="none"){c.getElement(".scrollbar-content-wrapper").setStyles({"padding-right":0,"padding-bottom":this.options.scrollBarSize})}else{if(this.element.getElement("ul.scrollbar.horizontal").getStyle("display")=="none"){c.getElement(".scrollbar-content-wrapper").setStyles({"padding-right":this.options.scrollBarSize,"padding-bottom":0})}else{c.getElement(".scrollbar-content-wrapper").setStyles({"padding-right":this.options.scrollBarSize,"padding-bottom":this.options.scrollBarSize})}}}this.element.setStyle("height",this.element.style.height?this.element.getStyle("height"):this.element.getSize().y-this.nativeScrollBarSize)},fadeBars:function(a){this.element.getChildren("ul.scrollbar").each(function(b){b.getElements("li").each(function(c){c.get("tween").stop();c.fade(a)})})},_addFade:function(a){a=!parseInt(a)||parseInt(a)<500?500:parseInt(a);this.element.addEvent("mousemove",function(){clearTimeout(this.fadeTimer);this.fadeBars("show");this.fadeTimer=this.fadeBars.delay(a,this,"out")}.bind(this));this.element.getElement(".scrollbar-content").addEvent("scroll",function(){clearTimeout(this.fadeTimer);this.fadeBars("show");this.fadeTimer=this.fadeBars.delay(a,this,"out")}.bind(this));this.fadeTimer=this.fadeBars.delay(a,this,"out")}});Element.implement({scrollbars:function(a){return this.store("scrollbars",new ScrollBars(this,a))}});function reload_scrollbars_grid(){(function(){$$(".grid2_scroll").each(function(a){if(a.getElements(".scrollbar-content").length==0){a.scrollbars({barOverContent:false,fade:true})}})}).delay(200)};var CwAutocompleter=new Class({Implements:[Options,Events],options:{ajaxMethod:"get",ajaxParam:"search",inputMinLength:3,pause:500,targetfieldForKey:"",targetfieldForValue:"",suggestionBoxOuterClass:"cwCompleteOuter",suggestionBoxListClass:"cwCompleteChoices",suggestionBoxLoadingClass:"cwCompleteLoading",suggestionBoxHoverClass:"cwCompleteChoicesHover",clearChoicesOnBlur:true,clearChoicesOnEsc:true,clearChoicesOnChoose:true,setValuesOnChoose:true,suggestionContainer:{},choiceContainer:"ul",choiceElement:"li",onChoose:function(){}},initialize:function(e,d,c){this.setOptions(c);if(!$(e)){return}this.prevlength=0;this.textfield=$(e);this.url=d;this.clickeddoc=false;var f=this.textfield.getStyle("width");var a=this.textfield.getPosition().x;var b=this.textfield.getPosition().y+this.textfield.getSize().y;if(this.options.suggestionContainer&&$(this.options.suggestionContainer)){this.container=$(this.options.suggestionContainer);this.container.addClass(this.options.suggestionBoxOuterClass)}else{this.container=new Element("div",{"class":this.options.suggestionBoxOuterClass,styles:{width:f,left:a,top:b,height:0}}).inject($(document.body));this.repositionBox()}this.choices=new Element(this.options.choiceContainer,{"class":this.options.suggestionBoxListClass}).inject($(this.container),"inside");this.clearChoices();this.textfield.setProperty("autocomplete","off");this.textfield.addEvents({keydown:this.keypressed.bind(this),keyup:this.keypressed.bind(this)});if(this.options.clearChoicesOnBlur){if(!Browser.ie){this.textfield.addEvents({blur:this.clearChoices.bind(this)})}else{document.addEvent("click",this.docclick.bind(this));this.textfield.addEvents({blur:this.blurLater.bind(this)})}}if(!Browser.ie){this.choices.addEvents({mousedown:function(g){g.preventDefault()}})}if(this.url){this.ajax=new Request({url:this.url,method:this.options.ajaxMethod});this.ajax.addEvent("onComplete",this.ajaxComplete.bind(this))}},getValues:function(a){var c=a;if(this.options.doRetrieveValues!=null){this.setValues(this.options.doRetrieveValues.apply(a))}else{if(this.ajax){if(this.options.pause===0){this.choices.hide();this.container.addClass(this.options.suggestionBoxLoadingClass);this.container.show();this.repositionBox();this.ajax.send(this.options.ajaxParam+"="+c)}else{var b=this;window.setTimeout(function(){if(c==b.textfield.get("value")){b.choices.hide();b.container.addClass(b.options.suggestionBoxLoadingClass);b.container.show();b.ajax.send(b.options.ajaxParam+"="+c)}else{b.ajax.cancel()}},b.options.pause)}}}},ajaxComplete:function(a){if(!a){return}var b=JSON.decode(a,true);if(b===false||!b.length){this.clearChoices()}else{this.setValues(b)}},setValues:function(a){this.values=a;this.clearChoices();this.values.each(function(b,c){if(b){this.lielems[c]=new Element(this.options.choiceElement,{html:b[1]});this.lielems[c].addEvent("click",this.enterValue.bind(this,{id:b[0],value:b[1]}));if(Browser.ie){this.lielems[c].addEvent("mousedown",this.enterValue.bind(this,{id:b[0],value:b[1]}))}this.lielems[c].inject(this.choices,"inside")}}.bind(this));this.repositionBox();this.container.show();this.container.removeClass(this.options.suggestionBoxLoadingClass);this.choices.show();this.lielems[this.selected].addClass(this.options.suggestionBoxHoverClass)},repositionBox:function(){this.container.position({relativeTo:this.textfield,position:"bottomLeft",edge:"upperLeft"})},clearChoices:function(a){this.lielems=[];this.selected=0;this.choices.set("html","");this.container.hide()},enterValue:function(a){if(this.options.setValuesOnChoose){if(this.options.targetfieldForKey&&$(this.options.targetfieldForKey)){$(this.options.targetfieldForKey).value=a.id}if(this.options.targetfieldForValue&&$(this.options.targetfieldForValue)){$(this.options.targetfieldForValue).value=a.value}else{this.textfield.value=a.value}}this.fireEvent("onChoose",{key:a.id,value:a.value});if(this.options.clearChoicesOnChoose){this.clearChoices()}},moveUp:function(a,b){if(this.lielems[this.selected]&&this.lielems[this.selected-1]){this.lielems[this.selected].removeClass(this.options.suggestionBoxHoverClass);this.selected-=1;this.lielems[this.selected].addClass(this.options.suggestionBoxHoverClass)}},moveDown:function(a,b){if(this.lielems[this.selected]&&this.lielems[this.selected+1]){this.lielems[this.selected].removeClass(this.options.suggestionBoxHoverClass);this.selected+=1;this.lielems[this.selected].addClass(this.options.suggestionBoxHoverClass)}},keypressed:function(a){var b=new Event(a);if(b.target.id===this.textfield.id){if(b.type=="keyup"){switch(b.key){case"enter":if(this.lielems[this.selected]){this.lielems[this.selected].fireEvent("click")}a.preventDefault();break;case"down":this.moveDown();a.preventDefault();break;case"up":this.moveUp();a.preventDefault();break;case"esc":if(this.options.clearChoicesOnEsc){this.clearChoices()}break;default:var c=b.target.value;if(c.length!=this.prevlength){if(c.length>=this.options.inputMinLength){this.prevlength=c.length;this.getValues(c)}else{this.clearChoices()}a.preventDefault()}}}else{if(b.key=="enter"||b.key=="esc"){a.preventDefault()}else{this.prevlength=b.target.value.length}}}},docclick:function(a){if(this.textfield.id!==a.target.id){this.clickeddoc=true}},blurLater:function(b){var a=this;var c=function(){if(a.clickeddoc){a.clickeddoc=false;a.clearChoices(b)}else{a.textfield.focus()}};setTimeout(c,200)}});function ajax_query(route,data,return_func,method_get){var global_data={language:freakms_language};var qry=new Request.JSON({url:"/ajax/"+route,data:Object.merge(global_data,data),onComplete:function(e){if(return_func){eval(return_func+"("+JSON.encode(e)+");")}},method:(method_get==true)?"get":"post"}).send()}_widget_search_default="";window.addEvent("domready",function(){if($("widget-search")){_widget_search_default=$("widget-search").value;$("widget-search").addEvent("focus",function(){if($("widget-search").value==_widget_search_default){$("widget-search").value="";$("widget-search").addClass("widget-search-input-active")}});$("widget-search").addEvent("blur",function(){if(!$("widget-search").value){$("widget-search").value=_widget_search_default;$("widget-search").removeClass("widget-search-input-active")}});$("widget-search").addEvent("keyup",function(a){if(a.key=="enter"){location.href="/"+freakms_language+"/search?q="+$("widget-search").value}})}});function report_post(a,c){var b=prompt((freakms_language=="de")?"Wieso möchtest du diesen Post melden?":"Why would you like to report this post?");if(b==null){return}if(b.trim()!=""){ajax_query("report_post",{module:a,id:c,reason:b},"report_post_return")}else{alert("You must provide a reason why you reported this post. Please try again.")}}function report_post_return(a){if(a.err){alert(a.err)}else{alert(a.ok)}}function page_view(a,b){ajax_query("page_view",{module:a,id:b},"",true)}function groupstage_load(a,e,d,k,b,g,f,c,j,h,i){ajax_query("groupstage_load",{id:a,element:e,start:b,show_title:k,show_matches:d,end:g,c_w:f,c_d:c,c_l:j,c_s:h,c_p:i},"groupstage_load_return",true)}function groupstage_load_return(a){if(a.element){$(a.element).set("html",a.html)}}function ranking_load(a,d,c,h,l,e,b,k,g,j,i,f){ajax_query("ranking_load",{id:a,element:d,show_title:l,show_matches:c,toggle:h,c_w:e,c_d:b,c_l:k,c_s:g,c_p:j,c_r:i,hide_ranking:f},"ranking_load_return",true)}function ranking_load_return(a){if(a.element){$(a.element).set("html",a.html)}}function user_editor_preview(d,b){var a=$("post_preview_"+d);var c=$("post_preview_text_"+d);c.set("html","Loading preview...");if(!a.isVisible()){a.reveal()}ajax_query("user_editor_preview",{id:d,text:b},"user_editor_preview_return")}function user_editor_preview_return(b){var a=$("post_preview_"+b.id);var c=$("post_preview_text_"+b.id);c.set("html",b.text);new Fx.Scroll(window).toElement(a,"y")}function user_editor_bbcode(a,i,d){var k=$("post_text_"+a);var g=k.selectionStart;var b=k.selectionEnd;var l=k.value;if(g!=b){var n=l.substring(g,b);var j=l.substring(0,g);var c=l.substring(b)}else{var n="";var j=l.substring(0,g);var c=l.substring(g)}var f=[];f.en={bold:"Please enter the bold text:",italic:"Please enter the italic text:",underline:"Please enter the underline text:",strike:"Please enter the strike text:",link_1:"Please enter an URL to link to:",link_2:"Please enter the text to link:",img:"Please enter the URL to image:",spoiler:"Please enter a spoiler text:",quote:"Please enter a quote text:",youtube:"Please enter a YouTube video URL:"};f.de={bold:"Bitte gib Deinen Text ein, welcher in Fettschrift dargestellt werden soll:",italic:"Bitte gib Deinen Text ein, welcher kursiv dargestellt werden soll:",underline:"Bitte gib Deinen Text ein, welcher unterstrichen werden soll:",strike:"Bitte gib Deinen Text ein, welcher durchgestrichen werden soll:",link_1:"Bitte gib die URL ein, auf die Du linken möchtest:",link_2:"Bitte benenn den Link:",img:"Bitte gib die URL zum Bild ein:",spoiler:"Bitte gib deinen Text ein, welcher im Spoiler erscheinen soll:",quote:"Bitte gib deinen Text ein, welcher zitiert werden soll:",youtube:"Bitte gib die ID vom YouTube-Video ein, welches Du zeigen möchtest:"};var e=f[freakms_language];if(e.length==0){var e=f.en}var h="";switch(i){case"bold":if(!n){var n=prompt(e.bold)}if(n){h="[b]"+n+"[/b]"}break;case"italic":if(!n){var n=prompt(e.italic)}if(n){h="[i]"+n+"[/i]"}break;case"underline":if(!n){var n=prompt(e.underline)}if(n){h="[u]"+n+"[/u]"}break;case"strike":if(!n){var n=prompt(e.strike)}if(n){h="[s]"+n+"[/s]"}break;case"link":var m=prompt(e.link_1);if(!n){var n=prompt(e.link_2)}if(n){h='[url="'+m+'"]'+n+"[/url]"}break;case"img":if(!n){var n=prompt(e.img)}if(n){h="[img]"+n+"[/img]"}break;case"spoiler":if(!n){var n=prompt(e.spoiler)}if(n){h="[spoiler]"+n+"[/spoiler]"}break;case"quote":if(!n){var n=prompt(e.quote)}if(n){h="[quote]"+n+"[/quote]"}break;case"youtube":if(!n){var n=prompt(e.youtube)}if(n){h="[youtube]"+n+"[/youtube]"}break}if(h){k.value=j+h+c;k.focus();k.selectionStart=g;k.selectionEnd=g+h.length}}function user_editor_check(a){var b=$("post_text_0");if(b.value==" "||a){if(!a){b.value=""}new Fx.Tween(b).start("height",150);b.focus()}else{if(b.value==""){b.value=" ";new Fx.Tween(b).start("height",30)}}}_content_list_limits=[];_content_list_offsets=[];function content_list_init(b,c,a){_content_list_offsets[b]=c;_content_list_limits[b]=a}function content_list_load(b,a,c){ajax_query("content_list_load",{el:b,type:a,offset:_content_list_offsets[b],limit:_content_list_limits[b],id:c},"content_list_load_return",true)}function content_list_load_return(a){if((a.offset-_content_list_offsets[a.el])<_content_list_limits[a.el]){$(a.el+"_btn").dissolve()}_content_list_offsets[a.el]=a.offset;var b=a.el+"_"+a.offset;$(a.el).set("html",$(a.el).get("html")+'<div id="'+b+'" style="display:none">'+a.html+"</div>");$(b).reveal()}_vod_list_limits=[];_vod_list_offsets=[];function vod_list_init(b,c,a){_vod_list_offsets[b]=c;_vod_list_limits[b]=a}function vod_list_load(b,a,c){ajax_query("vod_list_load",{el:b,type:a,offset:_vod_list_offsets[b],limit:_vod_list_limits[b],id:c},"vod_list_load_return",true)}function vod_list_load_return(a){if((a.offset-_vod_list_offsets[a.el])<_vod_list_limits[a.el]){$(a.el+"_btn").dissolve()}_vod_list_offsets[a.el]=a.offset;var b=a.el+"_"+a.offset;$(a.el).set("html",$(a.el).get("html")+'<div id="'+b+'" style="display:none">'+a.html+"</div>");$(b).reveal()}function mod_mdel_check(){var a=0;$$("input.mod_mdel").each(function(b){if(b.checked){a++}});$("mod_mdel_confirm").set("value","Delete posts ("+a+")");if(a&&!$("mod_mdel_confirm").isVisible()){$("mod_mdel_confirm").style.display="inline-block"}else{if(!a&&$("mod_mdel_confirm").isVisible()){$("mod_mdel_confirm").style.display="none"}}}function mod_mdel(c,d){var a=0;var b=[];$$("input.mod_mdel").each(function(f){if(f.checked){a++;b.push(f.value)}});if(confirm("Are you sure you want to delete this "+a+" posts?")){if(c=="comments"){ajax_query("comments_mdel",{ids:b,ajax:d},"mdel_return")}if(c=="forum"){ajax_query("forums_mdel",{ids:b,ajax:d},"mdel_return")}}}function mdel_return(a){if(a.error){alert(a.error)}else{if(a.ajax&&a.type=="comments"){comment_reload();$("mod_mdel_confirm").style.display="none"}else{location.reload()}}}_file_upload_timer="";_file_upload_name="";_file_phrases=new Array;_file_phrases.de={init:"Initiere Upload...",start:"Starte Upload...",upload:"Uploading",error:"Fehler beim Upload",};_file_phrases.en={init:"Initiating upload request...",start:"Starting upload...",upload:"Uploading",error:"Error while uploading",};function file_upload_init(){if($("file_upload")){$("file_upload").click()}}function file_upload(b,c){if($("file_upload").files.length==1){var a=$("file_upload").files[0];$("file_upload_btn").dissolve();file_upload_info(_file_phrases[freakms_language].init);ajax_query("file_upload_request",{type:b,type_id:c,file_name:a.name,file_size:a.size,file_mime:a.type},"file_upload_return")}}function file_upload_info(a){$("file_upload_status").set("html",a);if(!$("file_upload_status").isVisible()){$("file_upload_status").reveal()}}function file_upload_status(b,a){ajax_query("file_upload_status",{id:b,key:a},"file_upload_status_return")}function file_upload_status_return(a){file_upload_info(a.info);if(!a.done){setTimeout(function(){file_upload_status(a.id,a.key)},5000)}else{$("file_upload_btn").reveal()}}function file_upload_return(b){if(b.upload_id){file_upload_info(_file_phrases[freakms_language].start);_file_upload_name=b.upload_file_name;var c=new XMLHttpRequest();var a=new FormData();c.upload.addEventListener("progress",function(f){if(f.lengthComputable){var d=Math.round((f.loaded*100)/f.total);file_upload_info(_file_phrases[freakms_language].upload+' "'+_file_upload_name+'"... '+d+"%")}},false);c.open("POST",b.upload_url);c.onreadystatechange=function(){if(c.readyState==4){if(c.status==200){file_upload_status(b.upload_id,b.upload_key)}else{file_upload_info(_file_phrases[freakms_language].error+" ("+c.status+")")}}};a.append("file",$("file_upload").files[0]);a.append("id",b.upload_id);a.append("key",b.upload_key);c.send(a)}}_contentad_check_int="";_contentad_check_pos=0;_contentad_check_cnt=0;function contentad_check(){if($("monkey_content").get("data-set")=="false"){var b=Math.max($("monkey_content").getCoordinates().top,_contentad_check_pos);var a=window.getScroll().y+window.getCoordinates().height;if(a>=b){$("monkey_content").set("data-set","true");$("monkey_content").set("html",'Advertisement<div id="div-gpt-ad-1433245673776-0"></div>');googletag.display("div-gpt-ad-1433245673776-0");_contentad_check_int=setInterval("contentad_load()",500)}}}function contentad_load(){if($("monkey_content").get("data-set")=="true"){if($("div-gpt-ad-1433245673776-0").get("html")){var a=$$("#monkey_content iframe")[0];if(a.get("width")>1||a.get("height")>1){$("monkey_content").reveal()}clearInterval(_contentad_check_int)}else{_contentad_check_cnt+=1;if(_contentad_check_cnt==20){clearInterval(_contentad_check_int)}}}}window.addEvent("domready",function(){if($("monkey_content")){_contentad_check_pos=$("monkey_content").getCoordinates().top;$("monkey_content").set("data-set","false");$("monkey_content").dissolve();window.addEvent("resize",function(){contentad_check()});window.addEvent("scroll",function(){contentad_check()})}});widget_cd_current=new Array;function widget_cd_start(a,c){var b=Math.floor(+new Date()/1000);if(c<=b){c=0}else{c=c-b}widget_cd_current[a]=c;widget_cd_count(a)}function widget_cd_count(b){if(widget_cd_current[b]>0){widget_cd_current[b]=widget_cd_current[b]-1;var f=Math.floor(widget_cd_current[b]/(60*60*24));var d=widget_cd_current[b]-(60*60*24*f);var a=Math.floor(d/(60*60));var d=d-(60*60*a);var c=Math.floor(d/60);var d=d-(60*c);var e=d;f=(f<10)?"0"+f:f;a=(a<10)?"0"+a:a;c=(c<10)?"0"+c:c;e=(e<10)?"0"+e:e;if($("widget_cd_"+b+"_d")){$("widget_cd_"+b+"_d").innerHTML=f;if(f>0){$("widget_cd_"+b+"_d").addClass("active")}else{$("widget_cd_"+b+"_d").removeClass("active")}}if($("widget_cd_"+b+"_h")){$("widget_cd_"+b+"_h").innerHTML=a;if(a>0||f>0){$("widget_cd_"+b+"_h").addClass("active")}else{$("widget_cd_"+b+"_h").removeClass("active")}}if($("widget_cd_"+b+"_m")){$("widget_cd_"+b+"_m").innerHTML=c;if(c>0||a>0||f>0){$("widget_cd_"+b+"_m").addClass("active")}else{$("widget_cd_"+b+"_m").removeClass("active")}}if($("widget_cd_"+b+"_s")){$("widget_cd_"+b+"_s").innerHTML=e;if(widget_cd_current[b]>0){$("widget_cd_"+b+"_s").addClass("active")}else{$("widget_cd_"+b+"_s").removeClass("active")}}if(widget_cd_current[b]>0){setTimeout("widget_cd_count('"+b+"')",999)}}}widget_tips="";widget_tips_data=[];function widget_tips_load(a){$$(".widget_tip").each(function(b){if($(b.id+"_tip")){$(b).store("tip:text",$(b.id+"_tip").get("html"))}});widget_tips=new Tips(".widget_tip",{className:"widget_tip_class"})}function widget_tip_add(a,b){widget_tips_data.push({data:b,el:a})};function subnav_open(a){if(a=="jd_league"&&$("subnav_league_element").get("html")=="Loading..."){subnav_league_user("subnav_league_element")}if(a=="jd_coverage"&&subnav_coverage_matches_default&&$("subnav_coverage_element").get("html")=="Loading..."){subnav_coverage_matches(subnav_coverage_matches_default,"subnav_coverage_element")}}subnav_league_user_active=0;function subnav_league_user(b){if(!subnav_league_user_active){subnav_league_user_active=1;var a=false;if(a){subnav_league_user_return(a,1)}else{ajax_query("subnav_jd_league_user",{element:b},"subnav_league_user_return")}}}function subnav_league_user_return(b,a){subnav_league_user_active=0;if(b.element){$(b.element).set("html",b.html)}}subnav_coverage_matches_active=0;function subnav_coverage_matches(c,b){if(!subnav_coverage_matches_active){subnav_coverage_matches_active=1;$$("#subnav_coverage_list li").each(function(d){d.removeClass("active")});$("subnav_coverage_list_"+c).addClass("active");$(b).set("html","Loading...");var a=false;if(a){subnav_coverage_matches_return(a,1)}else{ajax_query("subnav_jd_coverage_matches",{element:b,id:c},"subnav_coverage_matches_return")}}}function subnav_coverage_matches_return(b,a){subnav_coverage_matches_active=0;if(b.element){$(b.element).set("html",b.html)}}function livestreams_autoreload(a,b){if(b!=1){xajax_xajax_widget_livestreams()}setTimeout("livestreams_autoreload("+a+")",a)}function right_tab(a,b){if(a!=right_tab_cur){$("right_tab_"+a).addClass("active");$("right_tab_"+right_tab_cur).removeClass("active");$(b).reveal();$(right_tab_cur_box).dissolve();right_tab_cur=a;right_tab_cur_box=b}}countdown_save=[];function cup_countdown_generate(d,a,c){var b='<div id="'+a+'_countdown" class="countdown_container"><div id="'+a+'_days" class="countdown_days countdown_zero">00</div><div class="countdown_sep">:</div><div id="'+a+'_hours" class="countdown_hours countdown_zero">00</div><div class="countdown_sep">:</div><div id="'+a+'_minutes" class="countdown_minutes countdown_zero">00</div><div class="countdown_sep">:</div><div id="'+a+'_seconds" class="countdown_seconds countdown_zero">00</div><div style="clear:left;"></div></div>';$(a).innerHTML=b;countdown_save[a]=d;if(d>0){cup_countdown_refresh(a,c)}}function cup_countdown_calculate(e){var d=new Array();var f=Math.floor(e/(60*60*24));var c=e-(60*60*24*f);var a=Math.floor(c/(60*60));var c=c-(60*60*a);var b=Math.floor(c/60);var c=c-(60*b);var e=c;d.days=(f<10)?"0"+f:f;d.hours=(a<10)?"0"+a:a;d.minutes=(b<10)?"0"+b:b;d.seconds=(e<10)?"0"+e:e;return d}function cup_countdown_refresh(a,c){var d=countdown_save[a];var b=cup_countdown_calculate(d);$(a+"_days").innerHTML=b.days;if(b.days=="00"){$(a+"_days").addClass("countdown_zero")}else{$(a+"_days").removeClass("countdown_zero")}$(a+"_hours").innerHTML=b.hours;if(b.hours=="00"&&b.days=="00"){$(a+"_hours").addClass("countdown_zero")}else{$(a+"_hours").removeClass("countdown_zero")}$(a+"_minutes").innerHTML=b.minutes;if(b.minutes=="00"&&b.hours=="00"&&b.days=="00"){$(a+"_minutes").addClass("countdown_zero")}else{$(a+"_minutes").removeClass("countdown_zero")}$(a+"_seconds").innerHTML=b.seconds;if(b.seconds=="00"&&b.minutes=="00"&&b.hours=="00"&&b.days=="00"){$(a+"_seconds").addClass("countdown_zero")}else{$(a+"_seconds").removeClass("countdown_zero")}countdown_save[a]=countdown_save[a]-1;if(d>1&&c!=1){setTimeout("cup_countdown_refresh('"+a+"')",1000)}}function teaser_change(a){$$(".teaser_list li").each(function(b){b.removeClass("active")});$("teaser_list_"+a).addClass("active");$$("#teaser_big li").each(function(b){b.removeClass("active")});$("teaser_big_"+a).addClass("active")}function swap(a){if($("swap_"+a+"_element").style.display=="none"){$("swap_"+a+"_element").style.display=""}else{$("swap_"+a+"_element").style.display="none"}};function comment_quote(b,a){text=document.getElementById("comment_text_"+b).innerHTML;quote="[quote="+a+"]"+text.trim()+"[/quote]";$("comment_content").value=quote+"\n\n";$("comment_content").innerHTML=quote+"\n\n";$("comment_content").focus()}function comment_edit(b,a){text=document.getElementById("comment_text_"+b).innerHTML;el='<textarea style="width: 95%;" rows="6" id="comment_edit_'+b+'">'+text+'</textarea><br /><input type="button" class="submit" style="margin:2px 0px 0px 0px;float: left;" onclick="comment_save('+b+');" value="Save" />';if(a==1){el=el+' <input type="checkbox" id="comment_delete_'+b+'" value="1" /> Delete comment'}document.getElementById("comment_field_"+b).innerHTML=el}function comment_save(a){new_text=document.getElementById("comment_edit_"+a).value;if(document.getElementById("comment_delete_"+a)){deleter=document.getElementById("comment_delete_"+a).checked}else{deleter="false"}xajax_xajax_comment_save(a,new_text,deleter)};function raffle_save(b){$("raffle_submit_"+b).disabled="true";var a=$("raffle_form_"+b).getElement("input[name=raffle_answer_"+b+"]:checked");if(a){xajax_xajax_raffle_save(b,a.value)}else{$("raffle_submit_"+b).disabled=""}};function voting_save(c){$("voting_submit_"+c).disabled="true";var a=$("voting_form_"+c).getElements("input[name=voting_answer_"+c+"]:checked");if(a.length==0){$("voting_submit_"+c).disabled=""}else{var b=[];a.each(function(d){b.push(d.value)});if(b.length>=1){xajax_xajax_voting_save(c,b.join(","))}}};function forums_post_restore(a){ajax_query("forums_save",{id:a,deleter:1},"forums_post_restore_return")}function forums_post_approve(a){ajax_query("forums_save",{id:a,approve:1},"forums_post_restore_return")}function forums_post_restore_return(a){location.reload()}function forums_post_save(b){var d=$("post_text_"+b).value;var a=($("post_official_"+b))?(($("post_official_"+b).checked)?1:0):0;var c=($("thread_title_edit"))?$("thread_title_edit").value:"";$("post_save_"+b).disabled="true";$("post_text_"+b).disabled="true";ajax_query("forums_save",{id:b,text:d,title:c,official:a},"forums_post_save_return")}function forums_post_delete(a){ajax_query("forums_save",{id:a,deleter:1},"forums_post_save_return")}function forums_post_save_return(a){if(a.text_rendered==-1){$("post_tr_"+a.post_id).dissolve();$("post_tr_control_"+a.post_id).dissolve()}else{$("post_text_"+a.post_id).value=a.text;$("post_orig_"+a.post_id).innerHTML=a.text;$("post_"+a.post_id).innerHTML=a.text_rendered;$("post_save_"+a.post_id).disabled="";$("post_text_"+a.post_id).disabled="";$("post_edit_"+a.post_id).dissolve();$("post_"+a.post_id).reveal()}}function forums_post_quote(b,c,e){if(e==1){var d=$("comment_text_"+b).get("value")}else{var d=$("post_orig_"+b).get("value")}var a="[quote="+c+"]"+d.trim()+"[/quote]";if($("post_text_0").value==" "){$("post_text_0").value=""}if($("post_text_0").value==""){$("post_text_0").value=a+"\n\n"}else{$("post_text_0").value=$("post_text_0").value+"\n"+a+"\n\n"}$("post_text_0").focus();$("post_text_0").selectionStart=$("post_text_0").value.length;$("post_text_0").scrollTop=$("post_text_0").scrollHeight;user_editor_check(true)}function forums_ge_spoiler(a){var b=$(a).getParent();if(a.hasClass("open")){b.removeClass("open");a.removeClass("open");b.getChildren(".forum_ed_spoiler_el")[0].style.display="none"}else{b.addClass("open");a.addClass("open");b.getChildren(".forum_ed_spoiler_el")[0].style.display="block"}}function forums_post_edit(a){if(!$("post_edit_"+a).isVisible()){$("post_"+a).dissolve();$("post_edit_"+a).reveal()}else{$("post_edit_"+a).dissolve();$("post_"+a).reveal()}}window.addEvent("domready",function(){hidden_img_cnt=0;$$(".forum_ed_quote .forum_ed_img").each(function(a){if(!a.isVisible()){p=a.getParent();el=new Element("div",{"class":"forum_ed_spoiler"}).set("html",'<span class="forum_ed_spoiler_trigger" onclick="forums_ge_spoiler(this)">Image</span><div class="forum_ed_spoiler_el" style="display: none;">'+p.outerHTML+"</div>");el.replaces(p)}})});function messages_list_check_all(){var a=$("message_list_cb_all").checked?1:0;$$("input.message_list_cb").each(function(b){b.checked=a});messages_list_buttons_check()}function messages_list_check(){messages_list_buttons_check()}function messages_list_count(){var a=0;$$("input.message_list_cb").each(function(b){if(b.checked){a++}});return a}function messages_list_buttons_check(){var a=messages_list_count();if($("messages_list_btn_spam")){$("messages_list_btn_spam").disabled=(a)?"":"true"}if($("messages_list_btn_delete")){$("messages_list_btn_delete").disabled=(a)?"":"true"}if($("messages_list_btn_archive")){$("messages_list_btn_archive").disabled=(a)?"":"true"}if($("messages_list_btn_unread")){$("messages_list_btn_unread").disabled=(a)?"":"true"}if($("messages_list_btn2_spam")){$("messages_list_btn2_spam").disabled=(a)?"":"true"}if($("messages_list_btn2_delete")){$("messages_list_btn2_delete").disabled=(a)?"":"true"}if($("messages_list_btn2_archive")){$("messages_list_btn2_archive").disabled=(a)?"":"true"}if($("messages_list_btn2_unread")){$("messages_list_btn2_unread").disabled=(a)?"":"true"}}function messages_list_action(c){var b=messages_list_count();if(b==0){return}var a=false;if(c=="delete"){if(confirm((freakms_language=="de")?"Bist Du dir sicher, dass Du alle Nachrichten in den ausgewaehlten "+b+" Themen loeschen moechtest?":"Are you sure you want to delete all messages in the selected "+b+" threads?")){a=true}}if(c=="spam"||c=="unread"){a=true}if(a){$("message_list_action_type").value=c;$("messages_list_form").submit()}}function msg_toggle(c){var a=$("msg_"+c);var b=$("msg_body_"+c);if(b.isVisible()){b.dissolve()}else{b.reveal()}}msg_toggle_to=1;function msg_toggle_all(a){$$(".message-msg .message-msg-body").each(function(b){if(msg_toggle_to==1){b.reveal()}if(msg_toggle_to==0){b.dissolve()}});if(msg_toggle_to==1){$(a).value=(freakms_language=="de")?"Alle Nachrichten einklappen":"Contract all messages"}if(msg_toggle_to==0){$(a).value=(freakms_language=="de")?"Alle Nachrichten ausklappen":"Expand all messages"}msg_toggle_to=(msg_toggle_to==1)?0:1};widget_matches_time_quick=0;widget_matches_coverage_id=0;widget_matches_timer="";widget_matches_disabled=0;widget_matches_streaminfo_active="";widget_matches_streaminfo_block=0;function widget_matches_settings(){if($("widget_matches_settings").isVisible()){$("widget_matches_settings").dissolve()}else{$("widget_matches_settings").reveal()}}function widget_matches_change_init(){widget_matches_disabled=1;$$(".widget-matches-settings input[type=checkbox]").each(function(a){a.disabled="true"});$$(".widget-matches-timequick li").each(function(a){a.disabled="true"})}function widget_matches_change_return(){widget_matches_disabled=0;$$(".widget-matches-settings input[type=checkbox]").each(function(a){a.disabled=""});$$(".widget-matches-timequick li").each(function(a){a.disabled=""})}function widget_matches_settings_eventmode(a){widget_matches_change_init();ajax_query("widgets_matches_eventmode",{val:a},"widget_matches_settings_return")}function widget_matches_settings_scorehide(a){widget_matches_change_init();ajax_query("widgets_matches_scorehide",{val:a},"widget_matches_settings_return")}function widget_matches_settings_quicktime(a){if(widget_matches_disabled){return}widget_matches_change_init();$$(".widget-matches-timequick li").each(function(b){b.removeClass("active")});if(a==widget_matches_time_quick){widget_matches_time_quick=0}else{$("widget_matches_time_quick_"+a).addClass("active");widget_matches_time_quick=a}widget_matches_reload()}function widget_matches_settings_return(a){widget_matches_reload()}function widget_matches_reload(){clearTimeout(widget_matches_timer);if($("in_matches_list")){$("in_matches_list").setStyle("opacity",0.3);ajax_query("widgets_matches_reload",{time_quick:widget_matches_time_quick,coverage_id:widget_matches_coverage_id},"widget_matches_reload_return",true)}}function widget_matches_reload_return(a){$("in_matches_list").set("html",a.html);new Fx.Tween($("in_matches_list")).start("opacity",1);widget_matches_change_return();widget_matches_timer_start()}function widget_matches_timer_start(){clearTimeout(widget_matches_timer);widget_matches_timer=setTimeout("widget_matches_reload()",300000)}function widget_matches_scorehide(b,a){$(b).destroy();$("widget_matches_scorehide_"+a).setStyle("display","")}function widget_matches_streaminfo(b,a){if(!a){var a="widget_matches_streams_"+b}if(widget_matches_streaminfo_active!=a){widget_matches_streaminfo_block=1;ajax_query("widgets_matches_streaminfo",{id:b,el:a},"widget_matches_streaminfo_return",true)}}function widget_matches_streaminfo_return(a){$(a.el).set("html",a.html);setTimeout(function(){widget_matches_streaminfo_active=a.el},200);setTimeout(function(){widget_matches_streaminfo_block=0},200);$(a.el).set("reveal",{duration:200});$(a.el).reveal()}document.addEvent("domready",function(){$(document.body).addEvent("click",function(a){if(widget_matches_streaminfo_active&&$(widget_matches_streaminfo_active)){if(a.target!=$(widget_matches_streaminfo_active)&&!$(a.target).getParents().contains($(widget_matches_streaminfo_active))){$(widget_matches_streaminfo_active).dissolve();widget_matches_streaminfo_active=""}}})});window.addEvent("load",function(){widget_matches_timer_start()});widget_broadcasts_timer="";function widget_broadcasts_reload(){clearTimeout(widget_broadcasts_timer);if($("in_broadcasts")){$("in_broadcasts").setStyle("opacity",0.3);ajax_query("widgets_broadcasts_reload",{},"widget_broadcasts_reload_return",true)}}function widget_broadcasts_reload_return(a){$("in_broadcasts").set("html",a.html);new Fx.Tween($("in_broadcasts")).start("opacity",1)}function widget_broadcasts_timer_start(){clearTimeout(widget_broadcasts_timer);widget_broadcasts_timer=setTimeout("widget_broadcasts_reload()",310000)}window.addEvent("load",function(){widget_broadcasts_timer_start()});_slideshow_perpage=[];_slideshow_elements=[];_slideshow_curlast=[];function slideshow_init(b,c,a){_slideshow_perpage[b]=c;_slideshow_elements[b]=$(b).getChildren("li");_slideshow_curlast[b]=-1;$(b).empty();new Element("li",{"class":"container",id:"slideshow_container_"+b}).setStyle("height",a).inject(b);new Element("li",{"class":"arrow arrow-left"}).setStyle("height",a).addEvents({click:function(d){slideshow_prev(b)}}).inject(b,"top");new Element("li",{"class":"arrow arrow-right"}).setStyle("height",a).addEvents({click:function(d){slideshow_next(b)}}).inject(b,"top");slideshow_next(b)}function slideshow_next(b){if(_slideshow_curlast[b]<0||_slideshow_curlast[b]==_slideshow_elements[b].length-1){var a=0}else{var a=_slideshow_curlast[b]+1}slideshow_show(b,a)}function slideshow_prev(b){var a=_slideshow_curlast[b]-_slideshow_perpage[b]+1-_slideshow_perpage[b];if(a<0){a+=_slideshow_elements[b].length}slideshow_show(b,a)}function slideshow_show(d,c){var a=new Element("ul",{"class":"items"});for(i=1;i<=_slideshow_perpage[d];i++){var b=_slideshow_elements[d][c];b.getElements("img").fade("hide");b.inject(a);if(i<_slideshow_perpage[d]){if(c>=_slideshow_elements[d].length-1){c=0}else{c++}}}_slideshow_curlast[d]=c;$("slideshow_container_"+d).empty();a.inject("slideshow_container_"+d);$("slideshow_container_"+d).getElements("ul.items img").each(function(f){f.addEvent("load",function(){f.fade("in")});f.set("src",f.get("data-src"));f.fireEvent("load")})};